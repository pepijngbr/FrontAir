import{_ as g,c as h,u,a as p,d as n,e as o,t,m as s,f as c,F as b,g as k,j as _,o as l}from"./index-DNP_rAM8.js";import{B as f}from"./BarcodeLabel-DltF_qX6.js";const m="http://127.0.0.1:8000/api",d={name:"BookingShow",components:{BarcodeLabel:f},data(){return{booking:{}}},computed:{bookngId(){return this.$route.params.id}},created(){this.retrieveBooking()},methods:{retrieveBooking(){h.get(m+"/users/"+u().user.id+"/bookings/"+this.bookingId).then(r=>{console.log(r.data),this.booking=r.data[0],this.updateMetaData()}).catch(r=>{console.error(r)})},updateMetaData(){const e="https://www.frontair.nl"+k().path;p({title:`${this.booking.flight.flight_number} - ${this.booking.flight.airline.name}`,link:[{rel:"canonical",href:e}],meta:[{name:"description",content:`Book your flight ${this.booking.flight.flight_number} with ${this.booking.flight.airline.name}. Fly from ${this.booking.flight.departure_airport.city}, ${this.booking.flight.departure_airport.country} to ${this.booking.flight.arrival_airport.city}, ${this.booking.flight.arrival_airport.country}.`},{name:"keywords",content:`flight, ${this.booking.flight.airline.name}, ${this.booking.flight.flight_number}, book flight, ${this.booking.flight.departure_airport.city}, ${this.booking.flight.arrival_airport.city}`}],script:[{type:"application/ld+json",json:{"@context":"http://schema.org","@type":"Reservation",reservationId:this.booking.id,reservationStatus:this.booking.booking_status,underName:{"@type":"Person",name:this.booking.user.name},reservationFor:{"@type":"Flight",flightNumber:this.booking.flight.flight_number,airline:{"@type":"Airline",name:this.booking.flight.airline.name},departureAirport:{"@type":"Airport",name:this.booking.flight.departure_airport.city,address:{"@type":"PostalAddress",addressCity:this.booking.flight.departure_airport.city,addressCountry:this.booking.flight.departure_airport.country}},arrivalAirport:{"@type":"Airport",name:this.booking.flight.arrival_airport.city,address:{"@type":"PostalAddress",addressCity:this.booking.flight.arrival_airport.city,addressCountry:this.booking.flight.arrival_airport.country}}},reservedTicket:{"@type":"Ticket",ticketedSeat:this.booking.seat_number,ticketToken:"urn:uuid:"+this.booking.id,ticketedOffer:{"@type":"Offer",priceCurrency:"EUR",price:this.booking.price}}}}]})},formatDate(r){return new Date(r).toLocaleDateString("nl-NL",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",timeZone:"GMT"})}}},y={key:0,class:"pt-20"},v=["src","alt"],A={class:"py-10"},B=o("h2",null,"Your Ticket",-1),C={class:"max-w-[300px]"},w={key:1,class:"py-10"},D=o("h2",null,"Billing information",-1),x={class:"py-10"},S=o("h2",null,"Flight",-1),F={class:"py-20"},L=o("h2",null,"Airports",-1),N=o("br",null,null,-1),j=o("br",null,null,-1);function T(r,e,I,P,i,U){const a=_("BarcodeLabel");return l(),n(b,null,[i.booking.flight?(l(),n("section",y,[o("img",{class:"h-60 w-full rounded-lg object-cover object-center",src:"../src/assets/images/airlines/"+i.booking.flight.airline.name.toLowerCase().replace(/\s/g,"_")+"/"+i.booking.flight.image+".webp",alt:i.booking.flight.airline.name!=null?i.booking.flight.airline.name:"Image of Airline"},null,8,v),o("h1",null,t(i.booking.flight.flight_number),1)])):s("",!0),o("section",A,[B,o("div",C,[c(a,{value:i.booking.user_id+""+i.booking.flight.departure_airport.id+i.booking.flight.arrival_airport.id+i.booking.flight.flight_number+i.booking.id},null,8,["value"])])]),i.booking.user?(l(),n("section",w,[D,o("p",null," Booking made by: "+t(i.booking.user.name)+" ("+t(i.booking.user.email)+") ",1)])):s("",!0),o("section",x,[S,o("h3",null,t(i.booking.flight.flight_number),1),o("p",null,"Price: â‚¬"+t(i.booking.price),1),o("p",null," Arrival Airport: "+t(i.booking.flight.arrival_airport.name)+" ("+t(i.booking.flight.arrival_airport.iata)+") ",1),o("p",null," Departure Airport: "+t(i.booking.flight.departure_airport.name)+" ("+t(i.booking.flight.departure_airport.iata)+") ",1),o("p",null,"Airline: "+t(i.booking.flight.airline.name),1),o("p",null,"Available seats: "+t(i.booking.flight.available_seats),1),o("p",null,"Your seat number: "+t(i.booking.seat_number),1)]),o("section",F,[L,o("b",null,"Departure airport: "+t(i.booking.flight.departure_airport.name),1),o("p",null,"Code: "+t(i.booking.flight.departure_airport.iata),1),o("p",null,"City: "+t(i.booking.flight.departure_airport.city),1),o("p",null,"Country: "+t(i.booking.flight.departure_airport.country),1),N,j,o("b",null,"Arrival airport: "+t(i.booking.flight.arrival_airport.name),1),o("p",null,"Code: "+t(i.booking.flight.arrival_airport.iata),1),o("p",null,"City: "+t(i.booking.flight.arrival_airport.city),1),o("p",null,"Country: "+t(i.booking.flight.arrival_airport.country),1)])],64)}const V=g(d,[["render",T]]);export{V as default};
