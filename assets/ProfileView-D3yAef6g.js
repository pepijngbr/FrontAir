import{_ as f,a as h,u as n,b as w,c as p,d as b,e,q as u,l as i,x as l,t as _,f as y,w as g,F as x,g as k,h as d,j as v,o as T}from"./index-DNP_rAM8.js";const c="http://127.0.0.1:8000/api",P={name:"ProfileView",setup(){const o="https://www.frontair.nl"+k().path;h({title:"Profile - FrontAir",link:[{rel:"canonical",href:o}],meta:[{name:"description",content:"The profile page of FrontAir, a flight booking web application. Welcome to FrontAir, your one-stop destination for booking flights at the best prices. Find deals on international and domestic flights, compare airlines, and plan your perfect trip."},{name:"keywords",content:"profile, account, flights, flight booking, cheap flights, airline tickets, travel, FrontAir, flight deals, international flights, domestic flights"},{name:"author",content:"FrontAir"},{property:"og:title",content:"Profile - FrontAir"},{property:"og:description",content:"The profile page of FrontAir, a flight booking web application. Welcome to FrontAir, your one-stop destination for booking flights at the best prices. Find deals on international and domestic flights, compare airlines, and plan your perfect trip."},{property:"og:type",content:"website"},{property:"og:url",content:"https://www.frontair.nl"},{property:"og:image",content:"https://www.frontair.nl/images/frontair_logo.webp"}]})},data(){return{theme:"",name:"",user:{first_name:n().user.name,email:n().user.email},old_password:"",new_password:"",confirm_password:""}},mounted(){this.name===""&&(this.name=n().user.name)},methods:{setTheme(s){w().setTheme(s),localStorage.setItem("theme",s),document.documentElement.setAttribute("data-theme",s)},updateInformation(){const s={name:this.name};p.put(c+"/users/"+n().user.id,s).then(o=>{console.log(o.data),n().updateUser(o.data),alert("Succesfully updated user information!")}).catch(o=>{console.error(o)})},updatePassword(){if(this.old_password===""||this.new_password===""||this.confirm_password==="")alert("Fill in all fields to update your password.");else if(this.new_password!==this.confirm_password)alert("Confirm password does not match the New password.");else{const s={password:this.new_password};p.put(c+"/users/"+n().user.id,s).then(o=>{console.log(o.data),n().updateUser(o.data),alert("Succesfully updated user information!")}).catch(o=>{console.error(o)})}}}},F=e("section",{class:"mb-4 pt-20 text-center md:text-left"},[e("h1",null,[e("i",{class:"bi bi-person-circle"}),d(" Profile")]),e("p",null,"View and edit your profile.")],-1),C=e("div",{class:"divider"},null,-1),S={class:"my-12"},U=e("b",{class:"text-2xl"},"Profile Information",-1),V=e("p",{class:"font-bold"}," Name ",-1),A=e("button",{type:"submit",class:"btn btn-primary"}," Update ",-1),I={class:"my-2"},N=e("p",{class:"font-bold"}," Email ",-1),D=e("button",{class:"btn",onclick:"support_modal.showModal()"}," How do I change my email address? ",-1),j=e("dialog",{id:"support_modal",class:"modal"},[e("div",{class:"modal-box"},[e("h3",{class:"text-lg font-bold"}," Hey there! :) "),e("p",{class:"py-4"},[d(" If you would like to change your email address, please contact our support team via "),e("a",{href:"mailto:support@frontair.nl",class:"text-primary underline"},"support@frontair.nl")]),e("div",{class:"modal-action"},[e("form",{method:"dialog"},[e("button",{class:"btn"}," Close ")])])]),e("form",{method:"dialog",class:"modal-backdrop"},[e("button",null,"close")])],-1),B={class:"my-12"},E=e("b",{class:"text-2xl"},"Change Password",-1),H=e("label",{for:"old-password"},"Old Password",-1),L=e("br",null,null,-1),M=e("br",null,null,-1),R=e("label",{for:"new-password"},"New Password",-1),q=e("br",null,null,-1),W=e("br",null,null,-1),O=e("label",{for:"confirm-password"},"Confirm Password",-1),z=e("br",null,null,-1),G=e("br",null,null,-1),J={class:"my-12"},K=e("b",{class:"text-2xl"},"Change Theme",-1),Q=e("p",null,"Change the theme of the website to your liking!",-1),X={class:"join my-4"};function Y(s,o,Z,$,r,a){const m=v("RouterLink");return T(),b(x,null,[F,C,e("section",S,[U,e("form",{class:"my-2",onSubmit:o[1]||(o[1]=u(t=>a.updateInformation(),["prevent"]))},[V,i(e("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>r.name=t),type:"text",placeholder:"Type here",class:"input input-bordered mr-2 w-full max-w-xs border caret-primary outline-none transition-colors focus:border-primary focus:outline-none",required:"",maxlength:"255"},null,512),[[l,r.name]]),A],32),e("div",I,[N,e("p",null,_(r.user.email),1)]),D,j]),e("section",B,[E,e("form",{class:"my-4",onSubmit:o[6]||(o[6]=u((...t)=>s.changePassword&&s.changePassword(...t),["prevent"]))},[H,L,i(e("input",{id:"old-password","onUpdate:modelValue":o[2]||(o[2]=t=>r.old_password=t),type:"password",placeholder:"Type here",class:"input input-bordered mb-4 mr-2 w-full max-w-xs border caret-primary outline-none transition-colors focus:border-primary focus:outline-none",name:"old-password"},null,512),[[l,r.old_password]]),y(m,{to:{name:"reset-password"},class:"text-primary hover:underline"},{default:g(()=>[d(" Forgot password? ")]),_:1}),M,R,q,i(e("input",{id:"new-password","onUpdate:modelValue":o[3]||(o[3]=t=>r.new_password=t),type:"password",placeholder:"Type here",class:"input input-bordered mb-4 w-full max-w-xs border caret-primary outline-none transition-colors focus:border-primary focus:outline-none",name:"new-password"},null,512),[[l,r.new_password]]),W,O,z,i(e("input",{id:"confirm-password","onUpdate:modelValue":o[4]||(o[4]=t=>r.confirm_password=t),type:"password",placeholder:"Type here",class:"input input-bordered mb-4 w-full max-w-xs border caret-primary outline-none transition-colors focus:border-primary focus:outline-none",name:"confirm-password"},null,512),[[l,r.confirm_password]]),G,e("button",{type:"submit",class:"btn btn-primary",onClick:o[5]||(o[5]=(...t)=>a.updatePassword&&a.updatePassword(...t))}," Update ")],32)]),e("section",J,[K,Q,e("div",X,[e("input",{type:"radio",name:"theme-buttons",class:"theme-controller btn join-item","aria-label":"Light",value:"frontair",onClick:o[7]||(o[7]=t=>a.setTheme("frontair"))}),e("input",{type:"radio",name:"theme-buttons",class:"theme-controller btn join-item","aria-label":"Dark",value:"frontairDark",onClick:o[8]||(o[8]=t=>a.setTheme("frontairDark"))})])])],64)}const oe=f(P,[["render",Y]]);export{oe as default};
